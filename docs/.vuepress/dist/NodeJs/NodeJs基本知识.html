<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Node 学习笔记 | 前端小白</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.abc9894d.css" as="style"><link rel="preload" href="/assets/js/app.800d2022.js" as="script"><link rel="preload" href="/assets/js/2.86f4cd79.js" as="script"><link rel="preload" href="/assets/js/8.4ab74480.js" as="script"><link rel="prefetch" href="/assets/js/10.d746d5b6.js"><link rel="prefetch" href="/assets/js/11.78caa398.js"><link rel="prefetch" href="/assets/js/12.dae9c770.js"><link rel="prefetch" href="/assets/js/13.b2d08f06.js"><link rel="prefetch" href="/assets/js/14.d8f973c5.js"><link rel="prefetch" href="/assets/js/15.7e0b8fd7.js"><link rel="prefetch" href="/assets/js/16.965ed012.js"><link rel="prefetch" href="/assets/js/17.2daba412.js"><link rel="prefetch" href="/assets/js/18.e351df23.js"><link rel="prefetch" href="/assets/js/19.a4286147.js"><link rel="prefetch" href="/assets/js/20.dfcdd779.js"><link rel="prefetch" href="/assets/js/21.a118c9a0.js"><link rel="prefetch" href="/assets/js/22.921822bb.js"><link rel="prefetch" href="/assets/js/23.58f91fbb.js"><link rel="prefetch" href="/assets/js/24.d5e85b63.js"><link rel="prefetch" href="/assets/js/25.9086eab3.js"><link rel="prefetch" href="/assets/js/26.7a0a358d.js"><link rel="prefetch" href="/assets/js/3.94966178.js"><link rel="prefetch" href="/assets/js/4.3b9e220c.js"><link rel="prefetch" href="/assets/js/5.ab31c756.js"><link rel="prefetch" href="/assets/js/6.3b330e45.js"><link rel="prefetch" href="/assets/js/7.42faf49d.js"><link rel="prefetch" href="/assets/js/9.3db69dd1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.abc9894d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端小白</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  百度
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS样式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>NodeJs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NodeJs/NodeJs基本知识.html" class="active sidebar-link">NodeJs基本知识</a></li><li><a href="/NodeJs/Express.html" class="sidebar-link">Express框架</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="node-学习笔记"><a href="#node-学习笔记" class="header-anchor">#</a> Node 学习笔记</h1> <h2 id="node-基础知识"><a href="#node-基础知识" class="header-anchor">#</a> Node 基础知识</h2> <ul><li><p>浏览器中的JavaScript是没有文件操做的能力的 但是在NodeJs中的JavaScript具有文件操作能力</p></li> <li><p>fs是file-system的简写，就是文件系统的意思</p></li> <li><p>在Node中如果想要进行文件操作，就必须引入fs这个核心模块， 在fs这个核心模块中，就提供了所有的文件操作相关的API</p></li></ul> <h3 id="核心模块-fs"><a href="#核心模块-fs" class="header-anchor">#</a> 核心模块（fs）</h3> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// 使用require方法加载fs核心模块</span>
<span class="token keyword">var</span> fs  <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token comment">// 读取文件</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// 文件中存储的其实都是二进制</span>
	<span class="token comment">// 可以通过toString()方法转为我们能认识的字符</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 写文件</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">,</span><span class="token string">'你好好我给你显示文件写入操作'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件读写成功'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="核心的模块-http"><a href="#核心的模块-http" class="header-anchor">#</a> 核心的模块(http)</h3> <ul><li>http这个模快的职责就是帮你创建编写服务器的</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1、加载HTTP核心模块</span>
 <span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span>

 <span class="token comment">// 使用一个http.cerateServer()方法创建一个web服务器</span>
 <span class="token comment">// 返回一个server实例</span>
 <span class="token keyword">var</span> server<span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token comment">// 服务器要干什么</span>
 <span class="token comment">// 提供服务 对数据的服务</span>
 <span class="token comment">// 发请求</span>
 <span class="token comment">// 接收请求</span>
 <span class="token comment">// 处理请求</span>
 <span class="token comment">// 给个反馈（发送响应）</span>
 <span class="token comment">// 注册request请求事件</span>
 <span class="token comment">// 当客户端发送请求过来，就会自懂触发服务器端的request请求事件，然后执行第二个参数</span>

 <span class="token comment">// request请求事件处理函数，需要接收两个参数：</span>
 	<span class="token comment">// Request请求对象</span>
 		<span class="token comment">// 请求对象可以用来获取看客户端的一些请求参数，例如请求路径</span>
 	<span class="token comment">// Resonse响应对象</span>
 		<span class="token comment">// 响应对象可以用来用给客户端发送响应消息</span>
 server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span>response</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token keyword">var</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span>url
    <span class="token keyword">if</span><span class="token punctuation">(</span>url <span class="token operator">===</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'C:/hainan/app/www/index.html'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// return 有两个作用</span>
                <span class="token comment">// 1、返回结果</span>
                <span class="token comment">// 2、阻止代码继续往后执行</span>
                <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'not font page'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> 
            res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        res<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">' not font page'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token comment">// 4、绑定端口号，启动服务器</span>
 server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'服务器启动成功了，可以通过http://172.0.0.1:3000,可以进行访问'</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>


</code></pre></div><h3 id="art-template模板引擎"><a href="#art-template模板引擎" class="header-anchor">#</a> art-template模板引擎</h3> <ul><li>art-template不仅可以在浏览器中使用，也可以在node中使用</li></ul> <h4 id="nodejs中使用art-template模板引擎"><a href="#nodejs中使用art-template模板引擎" class="header-anchor">#</a> NodeJs中使用art-template模板引擎</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 安装</span>

<span class="token comment">// npm install art-template</span>
<span class="token comment">// 该命令在那执行就会把包下载到哪里，默认会下载到node_modules目录中、</span>
<span class="token comment">// node_modules 不要改 也不支持</span>

<span class="token comment">// 模板引擎 最早就是诞生于服务领域，后来才应用到前端</span>

<span class="token comment">// 1、安装 npm install art-template</span>
<span class="token comment">// 2、在需要使用的文件模板中加载 art-tempalte</span>
<span class="token comment">// 只需要require方法加载就行了 require('art-template')</span>
<span class="token comment">// 参数中的art-tempalte 就是你下载包的名字</span>
<span class="token comment">// 也是就是你install的名字是什么,则你的require中的就是什么</span>
<span class="token comment">// 3、查文档 使用模板引擎的api</span>

<span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>

<span class="token keyword">var</span>  template <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'art-template'</span><span class="token punctuation">)</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./tpl.html'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'读取失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

<span class="token comment">// 默认读取到的data是二进制</span>
<span class="token comment">// 二而模板引擎render方法需要接收的是字符串</span>
<span class="token comment">// 所以我们在这里需要把data 二进制数据转为字符串 才可以给模板字符串使用</span>
    <span class="token keyword">var</span> ret <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">'Jack'</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span> <span class="token string">'18'</span><span class="token punctuation">,</span>
        province<span class="token operator">:</span> <span class="token string">'吉林'</span><span class="token punctuation">,</span>
        hobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'羽毛球'</span><span class="token punctuation">,</span><span class="token string">'乒乓球'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="客户端渲染"><a href="#客户端渲染" class="header-anchor">#</a> 客户端渲染</h3> <ul><li><p>1、收到服务端响应的字符串</p></li> <li><p>2、从上倒下解析 ，在解析过程中,如果发现ajax请求,则再发起新的请求</p></li> <li><p>3、发请求</p></li> <li><p>4、拿到ajax响应的数据</p></li> <li><p>5、模板引擎渲染</p></li> <li><p>客户端到服务端正常会发送两次请求</p></li> <li><p>第一次请求拿到的是页面</p></li> <li><p>第二次拿到的是动数据</p></li></ul> <h3 id="服务端渲染"><a href="#服务端渲染" class="header-anchor">#</a> 服务端渲染</h3> <ul><li><p>页面加数据</p></li> <li><p>服务端渲染 就是一步成功</p></li> <li><p>客户端渲染不利于 SEO 搜索引擎优化</p></li> <li><p>服务端渲染是可以被爬虫抓取到的,客户端异步渲染是很难被爬虫抓到的</p></li> <li><p>所以你会发现 真正的网站既不会是纯异步也不是纯服务端渲染出来的</p></li> <li><p>而是两者的结合</p></li> <li><p>例如京东的商品列表就是采用服务端渲染,目的是为了ESO搜索引擎优化</p></li> <li><p>而他的产品评价列表为了用户体验,而且不需要ESO优化吗,所以采用的是客户端渲染</p></li></ul> <h3 id="模块原理"><a href="#模块原理" class="header-anchor">#</a> 模块原理</h3> <ul><li><p>在Node中，每一个模块都有一个自己的module对象，该module对象中，有一个成员叫：exports 也是一个对象</p></li> <li><p>我们发现，每次导出接口成员的时候都通过modules</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span>
  exports<span class="token operator">:</span><span class="token punctuation">{</span>
        foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">add</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 <span class="token comment">// 2、也就是说该模块中还有这么一句代码</span>
 <span class="token comment">// var exports = module.exports</span>

 module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span>
 module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y
 <span class="token punctuation">}</span>

<span class="token comment">// 1、两者一致，那就说明，我们可以使用任意一方来导出</span>
<span class="token comment">// console.log(exports == module.exports)</span>

exports<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span>
exports<span class="token punctuation">.</span><span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token comment">// 给exports赋值会断开，module、exports之间的引用</span>
<span class="token comment">// 同理给module.exports 重新赋值也会断开</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token string">'hello'</span>
exports<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'foo'</span> <span class="token comment">//没用  </span>

<span class="token comment">// 谁来require我谁就得到module.exports</span>
<span class="token comment">// 默认在代码的最后一句：</span>
<span class="token comment">// 一定记住，最后return的是 module.exports</span>
<span class="token comment">// 暴露的不是exports</span>
<span class="token comment">// 所以你给 exports 重新重新赋值不管用</span>
<span class="token comment">// return module.exports </span>

</code></pre></div><h4 id="exports和module-exports的区别"><a href="#exports和module-exports的区别" class="header-anchor">#</a> exports和module.exports的区别？</h4> <p><em>每个模块中都有一个module对象
module对象中都有一个exports对象
我们可以把需要的导出的成员都挂再到module.exports接口对象中
也就是：'module.exports.xxx =xxx'
但是每次都‘module.exports.xxx = xxx' 很麻烦，点太多了
所以Node为了你方便，同时在某一个模块中都提供了一个成员叫 ’exports‘
'expports == module.exports' 结果为true
所以对于:'module.exports.xxx= xxx' 的方式完全可以 'exports=xxx'
当一个模块需要打导出单个成员的时候，这个时候必须使用：'module.exports = xxxx' 的方式
不要使用 ’exports ='xxx'不管用
因为每一个模块最终向外 'return' 的是 'module.exports'
而 'export' 只是 ’module.exports的一个引用
所以即使你为 ‘exports= 'xxxx' 重新赋值，也不会影响'module.exports'
但是有一种赋值方式比较特殊：exports = module.exports 这个用来重新建立引用关系的</em></p> <h3 id="标识分析"><a href="#标识分析" class="header-anchor">#</a> 标识分析</h3> <p>// 如果是非路径形式的模块标识</p> <h4 id="路径形式的模块"><a href="#路径形式的模块" class="header-anchor">#</a> 路径形式的模块</h4> <ul><li>./ 当前目录不可以省略</li> <li>../ 上一级目录不可以省略</li> <li>/xxx 几乎不用</li> <li>d:/a/foo.js  几乎不用</li> <li>首位的 / 在这里表示的是当前文件模块所属磁盘根路径</li> <li>.js文件</li> <li>require('./foo.js')</li></ul> <h4 id="核心模块-本质也是文件"><a href="#核心模块-本质也是文件" class="header-anchor">#</a> 核心模块（本质也是文件）</h4> <ul><li>核心模块文件已经被编译到二进制文件中了，我们只需要按照名字来加载就可以了</li> <li>require('fs')</li> <li>require('http')</li></ul> <h4 id="第三方模块"><a href="#第三方模块" class="header-anchor">#</a> 第三方模块</h4> <ul><li><p>凡是第三方你模块都必须通过npm 来下载</p></li> <li><p>使用的时候可以通过 require（'包名'）的方式来进行加载才可以使用</p></li> <li><p>不可能有任何一个第三方包和核心模块的名字是一样的</p></li> <li><p>既不是核心模块，也不是路径形式的模块</p></li> <li><p>先找到当前文件所处目录中的node_modules目录</p></li> <li><p>node_modules/art-template</p></li> <li><p>node_modules/art-template/package.json文件</p></li> <li><p>node_modules/art-template/package.json文件中的main属性</p></li> <li><p>main属性中就记录了art-tamplate的入口文件</p></li> <li><p>然后加载使用这个第三方文件</p></li> <li><p>实际上最终加载的还是文件</p></li> <li><p>如果package.json文件不存在或者mian指定的人口模块也是没有</p></li> <li><p>则node会自动找到该目录下的index.js</p></li> <li><p>也就是说index.js会作为一个默认的备选项</p></li> <li><p>如果以上所有的任意一个条件都不成立，则会进入上一级目录中的node_modules目录</p></li> <li><p>如果上一级目录，上级目录.....直到根目录，就会报错</p></li> <li><p>注意我们的一个项目有且只有一个node_modules,放在项目根目录中，这样的话项目中就会所有的子目录中的代码都可以加载到第三包
var template = require('art-template')
require('a')</p></li></ul> <h4 id="模块查找机制"><a href="#模块查找机制" class="header-anchor">#</a> 模块查找机制</h4> <ul><li><p>优先冲缓存加载</p></li> <li><p>核心模块</p></li> <li><p>路径形式的文件模块</p></li> <li><p>第三方模块</p></li> <li><p>推荐书籍《深入浅出Node.js》中的模块系统章节</p></li></ul> <h3 id="第三方命令行工具-nodemon"><a href="#第三方命令行工具-nodemon" class="header-anchor">#</a> 第三方命令行工具 nodemon</h3> <ul><li>nodemon 是一个基于NodeJs 开发的已发个第三方命令行工具，哦我们使用需要独立安装、</li></ul> <p>npm install --global nodemon</p> <p>node app.js</p> <p>nodemon app.js</p> <p>只要是通过nodemon启动的服务则会监视你的文件变化，当文件变化的时候，会自动帮你启动服务器</p> <h3 id="知识点"><a href="#知识点" class="header-anchor">#</a> 知识点</h3> <ul><li><p>301永久重定向 浏览器会记住</p></li> <li><p>直接去跳到 b 了</p></li> <li><p>302临时重定向</p></li> <li><p>a.com b.com</p></li> <li><p>a.com 还会请求a</p></li> <li><p>a 告诉浏览器你去b</p></li> <li><p>所有的文件操作api都是异步的</p></li> <li><p>文件操作中的路径可以省略</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'data/a.txt'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'读取失败哦'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><ul><li>在模快加载中，相对路径中的 ./不能省略</li> <li>require('data/foo.js')  报错</li> <li>require('./data/foo.js')</li> <li>在文件操作的相对路径中、</li> <li>./data/a.txt 相当于当前目录</li> <li>data/a.txt 先对于当前目录</li> <li>/data/a.txt 绝对路径 当前文件模块所处磁盘根目录</li> <li>c:/xx/xx 绝对路径</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js/ES6/Promise.html" class="prev">
        Promise
      </a></span> <span class="next"><a href="/NodeJs/Express.html">
        Express框架
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.800d2022.js" defer></script><script src="/assets/js/2.86f4cd79.js" defer></script><script src="/assets/js/8.4ab74480.js" defer></script>
  </body>
</html>
